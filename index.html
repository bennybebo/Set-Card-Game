<!DOCTYPE html>
<html>
<head>
    <title>Set</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    
</head>
<body>
    <!-- Header -->
    <div class="header">
        <nav>
            <img src="./imgs/GameLogo.png" class="img">
            <ul>
                <!-- New button will restart the timer and reset the players scores -->
                <li class="btn" id="start-timer" onclick="resetScores()">New Game</li>
                <li class="btn" onclick="hint()">Hint</li>
                <li><a href="./about.html" class="btn">About</a></li>
            </ul>
            <button type="button" onclick="toggle()" id="dmbtn"><span></span></button>
        </nav>
    </div>

    <!-- Left Column -->
    <div class="left_column">
        <ul>
            <div class="time-layout">
                <li>Time:</li>   
                <div class="metadata">
                    <li id="timer">00:00 sec</li>
                </div>
            </div>
            <div class="points-layout">
                <li style="text-align: left;">Points:</li>   
                <div>
                    <li>Player 1</li>
                    <div class="metadata">
                        <li id="points1">00 points</li>
                    </div>

                    <li>Player 2</li>
                    <div class="metadata">
                        <li id="points2">00 points</li>
                    </div>
                </div>
            </div>
            <div>
                <li>Player 1 press the key 'A' for your turn</li>
                <br>
                <li>Player 2 press the key 'L' for your turn</li>
            </div>
        </ul>
    </div>
    <!-- Displays various messages; who's turn, whether a set or not -->
    <div id="message-container"></div>
    <!-- deck of cards -->
    <div class="container">
        <div class="card" id="card1" onclick="handleClick(1)"></div>
        <div class="card" id="card2" onclick="handleClick(2)"></div>
        <div class="card" id="card3" onclick="handleClick(3)"></div>
        <div class="card" id="card4" onclick="handleClick(4)"></div>
        <div class="card" id="card5" onclick="handleClick(5)"></div>
        <div class="card" id="card6" onclick="handleClick(6)"></div>
        <div class="card" id="card7" onclick="handleClick(7)"></div>
        <div class="card" id="card8" onclick="handleClick(8)"></div>
        <div class="card" id="card9" onclick="handleClick(9)"></div>
        <div class="card" id="card10" onclick="handleClick(10)"></div>
        <div class="card" id="card11" onclick="handleClick(11)"></div>
        <div class="card" id="card12" onclick="handleClick(12)"></div>
    </div>

    <script>
        /*
         * toggle function calls the light mode function to change the 
         * game's theme for dark to light and vice-versa 
         */
        function toggle(){
            var btn=document.getElementById("dmbtn");
            btn.classList.toggle("active")
            lightMode();
        }
        /*
         * lightMode function changes from dark themed game to light themed game 
         */
        function lightMode(){
            var page=document.querySelector('body');
            page.classList.toggle('light-mode');

            var selected_cards=document.querySelectorAll('.car.selected');
            selected_cards.forEach(function(card){
                card.classList.toggle('.light-mode .card.selected');
            });
        }
        
        /*
         * Function to reset scores when 'New Game' is clicked
         */
        const reset_score=document.getElementById('start-timer');
        reset_score.addEventListener('click', function(){
            resetScores();
        });
        

        /*
         * Start timer and update timer;
         * Start timer already starts the timer when the page loads and whenever 'New Game'
         * is pressed it restarts the timer
         * Update timer updates the time 
         */
        document.getElementById('start-timer').addEventListener('click', start_timer);
        let sec=0;
        let min=0;
        let duration;
        function start_timer(){
            sec=0;
            min=0;
            clearInterval(duration)
            duration=setInterval(update_timer,1000)
        }
        window.onload(start_timer());
        function update_timer(){
            const timer=document.getElementById('timer');
            sec++;
            if(sec >= 60){
                sec=0;
                min++;
            }
            const converted_time=`${min.toString().padStart(2,'0')}:${sec.toString().padStart(2,'0')} secs`;
            timer.textContent=converted_time;
        }
    </script>
    <script src="script.js"></script>
</body>
</html>